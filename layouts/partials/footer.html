<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8  col-md-10 col-md-offset-1">
        <!-- SNS Link -->
        {{ partial "sns-links.html" (dict "center" true "social" .Site.Params.social ) }}
        <br />
        <div data-ea-publisher="kaiosdev" data-ea-type="text"></div>
        <br />
        <p class="copyright text-muted">
        {{- if site.Copyright }}
          {{ site.Copyright | markdownify }}
        {{- else }}
          Copyright &copy; {{ .Site.Title }} {{ now.Format "2006" }}
        {{- end }}
        <br />
        <small>Except as otherwise noted, the content of this page is licensed under the <a href="https://creativecommons.org/licenses/by/4.0/" rel="external noopener" referrerpolicy="strict-origin-when-cross-origin" target="_blank">Creative Commons Attribution 4.0 License</a>, and code samples are licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0" rel="external noopener" referrerpolicy="strict-origin-when-cross-origin" target="_blank">Apache 2.0 License</a>. Use of this site is subject to certain terms, see our <a href="/privacy">Privacy Policy</a>.</small>
        </p>
        <p class="copyright text-muted">
          Last updated on <time datetime="{{ now.Format "2006-01-02" }}">{{ now.Format "2006-01-02" }}</time>
          {{- $gitHash := getenv "HUGO_ENV_GIT_COMMIT_HASH" -}}
          {{- if $gitHash -}}
            {{- $shortHash := substr $gitHash 0 7 -}}
            <span class="text-muted"> (version <a href="https://github.com/Tombarr/kaios-dev-blog/commit/{{ $gitHash }}" rel="external noopener" referrerpolicy="strict-origin-when-cross-origin" target="_blank"><code>{{ $shortHash }}</code></a>)</span>
          {{- end -}}.
          Source available on <a href="https://github.com/Tombarr/kaios-dev-blog/" rel="external noopener" referrerpolicy="strict-origin-when-cross-origin" target="_blank">GitHub</a>.
        </p>
      </div>
    </div>
  </div>
</footer>

<script type="text/javascript" src="{{ "js/jquery.min.js" | relURL }}"></script>

<!-- Custom Theme JavaScript -->
{{ $mainJs := resources.Get "js/hux-blog.js" | minify | fingerprint }}
<script type="text/javascript" src="{{ $mainJs.RelPermalink }}"></script>

<!-- DocSearch -->
{{- $docsearchJs := resources.Get "js/docsearch.js" | fingerprint -}}
<script src="{{ $docsearchJs.RelPermalink }}" integrity="{{ $docsearchJs.Data.Integrity }}"></script>
<script type="text/javascript">
  (() => {
    if (typeof docsearch === 'undefined') {
      console.warn('DocSearch not available');
      return;
    }

    docsearch({
      container: '#docsearch',
      appId: 'ADPCI8VLG1',
      indexName: 'KaiOS.dev Crawler',
      apiKey: '512be7e64562ac159966aab99d7bcc62',
    });
  })();
</script>

{{ if eq .Type "archive" }}
{{ $archiveJS := resources.Get "js/archive.js" | minify | fingerprint }}
<script type="text/javascript" src='{{ $archiveJS.RelPermalink }}'></script>
{{ end }}

{{ $toc := .Scratch.Get "toc" }}
{{ if $toc }}
<script type="text/javascript">
  function generateCatalog(selector) {
    _containerSelector = 'div.post-container'
    // init
    var P = $(_containerSelector), a, n, t, l, i, c;
    a = P.find('h1,h2,h3,h4');
    // clean
    $(selector).html('')
    // appending
    a.each(function () {
      n = $(this).prop('tagName').toLowerCase();
      i = "#" + $(this).prop('id');
      t = $(this).text();
      c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
      l = $('<li class="' + n + '_nav"></li>').append(c);
      $(selector).append(l);
    });
    return true;
  }

  generateCatalog(".catalog-body");

  // toggle side catalog
  $(".catalog-toggle").click((function (e) {
    e.preventDefault();
    $('.side-catalog').toggleClass("fold")
  }))
</script>

{{ $navJs := resources.Get "js/jquery.nav.js" | minify | fingerprint }}
<script type="text/javascript" src="{{ $navJs.RelPermalink }}"></script>
<script type="text/javascript">
   $(document).ready( function () {
    $('.catalog-body').onePageNav({
      currentClass: "active",
      changeHash: !1,
      easing: "swing",
      filter: "",
      scrollSpeed: 700,
      scrollOffset: 0,
      scrollThreshold: .2,
      begin: null,
      end: null,
      scrollChange: null,
      padding: 80
    });
  });
</script>

{{ end }}

{{ $zoom_js := resources.Get "zoomjs/zoom.js" | resources.Minify | fingerprint }}
<script type="text/javascript" src="{{ $zoom_js.RelPermalink }}" integrity="{{ $zoom_js.Data.Integrity }}"></script>
